<div class="container">
    <div fxLayout="column" fxLayoutGap="16px" fxFlex="40%" fxFlex.lt-md="100%" fxFlexOffset="30%" fxFlexOffset.lt-md="0">
        <mat-card class="mat-elevation-z4">
            <mat-card-content>
                <form ngNoForm fxLayout="column" [formGroup]="settingsForm">
                    <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="16px">
                        <mat-form-field fxFlex appearance="outline">
                            <mat-label>Kullanıcı Adı</mat-label>
                            <input matInput placeholder="Kullanıcı Adı" formControlName="username">
                            <mat-error *ngIf="settingsForm.controls.username.hasError('required')">
                                Kullanıcı Adı alanı boş bırakılamaz.
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field fxFlex appearance="outline">
                            <mat-label>Email</mat-label>
                            <input matInput placeholder="Email" formControlName="email">
                            <mat-error *ngIf="settingsForm.controls.email.hasError('required')">
                                Email alanı boş bırakılamaz.
                            </mat-error>
                            <mat-error *ngIf="settingsForm.controls.email.hasError('email')">
                                Doğru email girdiğinizden emin olun.
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="16px">
                        <mat-form-field fxFlex appearance="outline">
                            <mat-label>İsim</mat-label>
                            <input matInput placeholder="İsim" formControlName="name">
                            <mat-error *ngIf="settingsForm.controls.name.hasError('required')">
                                İsim alanı boş bırakılamaz.
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field fxFlex appearance="outline">
                            <mat-label>Soyisim</mat-label>
                            <input matInput placeholder="Soyisim" formControlName="surname">
                            <mat-error *ngIf="settingsForm.controls.surname.hasError('required')">
                                Soyisim alanı boş bırakılamaz.
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="16px">
                        <mat-form-field fxFlex appearance="outline">
                            <mat-label>İl</mat-label>
                            <mat-select formControlName="city" (selectionChange)="setDistricts(settingsForm.controls.city.value)">
                                <mat-option *ngFor="let city of cities" [value]="city">
                                    {{city}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field fxFlex appearance="outline">
                            <mat-label>İlçe</mat-label>
                            <mat-select formControlName="district">
                                <mat-option *ngFor="let district of districts" [value]="district">
                                    {{district}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>

                    <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="16px">
                        <mat-form-field fxFlex appearance="outline">
                            <mat-label>Telefon</mat-label>
                            <span matPrefix>+90 &nbsp;</span>
                            <input type="tel" matInput placeholder="Telefon" maxlength="10" formControlName="phone">
                            <mat-hint>Numarayı başında 0 olmadan (5*********) giriniz</mat-hint>
                            <mat-error *ngIf="settingsForm.controls.phone.hasError('required')">
                                Telefon alanı boş bırakılamaz.
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field fxFlex appearance="outline">
                            <mat-label>IBAN</mat-label>
                            <span matPrefix>TR &nbsp;</span>
                            <input type="text" matInput placeholder="IBAN" minlength="26" maxlength="26" formControlName="iban">
                            <mat-hint>IBAN numarasını boşluk olmadan giriniz</mat-hint>
                        </mat-form-field>
                    </div>

                    <mat-form-field appearance="outline" class="mTop-16">
                        <mat-label>Adres</mat-label>
                        <textarea matInput placeholder="Adres" formControlName="address"></textarea>
                    </mat-form-field>

                    <button mat-flat-button color="primary" type="sumbit" (click)="updateSettings()"
                            [disabled]="!settingsForm.valid" mat-button>Ayarları Güncelle</button>
                </form>
            </mat-card-content>
        </mat-card>

        <mat-card class="mat-elevation-z4">
            <mat-card-content>
                <form ngNoForm fxLayout="column" [formGroup]="passwordForm">
                    <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="16px">
                        <mat-form-field fxFlex appearance="outline">
                            <mat-label>Yeni Şifre</mat-label>
                            <input matInput placeholder="Yeni Şifre" [type]="'password'" formControlName="newPassword">
                            <mat-error *ngIf="passwordForm.controls.newPassword.hasError('required')">
                                Şifre alanı boş bırakılamaz.
                            </mat-error>
                            <mat-error *ngIf="passwordForm.controls.newPassword.hasError('pattern')">
                                Şifre en az 6 en fazla 20 karakter uzunluğunda olup en az bir büyük, bir küçük karakter ve bir rakam içermelidir.
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field fxFlex appearance="outline">
                            <mat-label>Eski Şifre (Onay)</mat-label>
                            <input matInput placeholder="Eski Şifre (Onay)" [type]="'password'" formControlName="oldPassword">
                            <mat-error *ngIf="passwordForm.controls.oldPassword.hasError('required')">
                                Şifre alanı boş bırakılamaz.
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <button mat-flat-button color="primary" type="sumbit" class="mTop-16"
                            [disabled]="!passwordForm.valid" mat-button>Şifreyi Güncelle</button>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>
